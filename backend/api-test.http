### API 测试文件
### 使用 VS Code 的 REST Client 插件或 IntelliJ IDEA 直接运行

@baseUrl = http://localhost
@token = your_token_here

### ========== 用户接口 ==========

### 1. 用户登录
POST {{baseUrl}}/api/user/login
Content-Type: application/json

{
  "username": "admin",
  "password": "123456"
}

### 2. 获取用户信息
GET {{baseUrl}}/api/user/info
Authorization: {{token}}

### 3. 获取统计信息
GET {{baseUrl}}/api/user/statistics
Authorization: {{token}}

### 4. 更新用户信息
POST {{baseUrl}}/api/user/update
Authorization: {{token}}
Content-Type: application/json

{
  "nickname": "新昵称",
  "avatar": "https://example.com/avatar.jpg"
}

### 5. 修改密码
POST {{baseUrl}}/api/user/password
Authorization: {{token}}
Content-Type: application/json

{
  "old_password": "123456",
  "new_password": "654321"
}

### 6. 退出登录
POST {{baseUrl}}/api/user/logout
Authorization: {{token}}

### ========== 音乐接口 ==========

### 1. 获取音乐列表
GET {{baseUrl}}/api/music/list?page=1&limit=20

### 2. 搜索音乐
GET {{baseUrl}}/api/music/search?keyword=周杰伦

### 3. 获取音乐详情
GET {{baseUrl}}/api/music/detail?id=1

### 4. 获取推荐音乐
GET {{baseUrl}}/api/music/recommend?limit=10

### 5. 获取热门音乐
GET {{baseUrl}}/api/music/hot?limit=20

### ========== 播放历史接口 ==========

### 1. 获取播放历史
GET {{baseUrl}}/api/history/list?page=1&limit=20
Authorization: {{token}}

### 2. 添加播放记录
POST {{baseUrl}}/api/history/add
Authorization: {{token}}
Content-Type: application/json

{
  "music_id": 1,
  "duration": 240
}

### 3. 删除播放记录
POST {{baseUrl}}/api/history/delete
Authorization: {{token}}
Content-Type: application/json

{
  "music_id": 1
}

### 4. 清空播放历史
POST {{baseUrl}}/api/history/clear
Authorization: {{token}}

### ========== 收藏接口 ==========

### 1. 获取收藏列表
GET {{baseUrl}}/api/favorite/list?page=1&limit=20
Authorization: {{token}}

### 2. 添加收藏
POST {{baseUrl}}/api/favorite/add
Authorization: {{token}}
Content-Type: application/json

{
  "music_id": 1
}

### 3. 取消收藏
POST {{baseUrl}}/api/favorite/remove
Authorization: {{token}}
Content-Type: application/json

{
  "music_id": 1
}

### 4. 检查是否收藏
GET {{baseUrl}}/api/favorite/check?music_id=1
Authorization: {{token}}

### ========== 播放列表接口 ==========

### 1. 获取播放列表
GET {{baseUrl}}/api/playlist/list
Authorization: {{token}}

### 2. 创建播放列表
POST {{baseUrl}}/api/playlist/create
Authorization: {{token}}
Content-Type: application/json

{
  "name": "我喜欢的音乐",
  "cover": "https://example.com/cover.jpg",
  "description": "我最喜欢的歌曲合集"
}

### 3. 更新播放列表
POST {{baseUrl}}/api/playlist/update
Authorization: {{token}}
Content-Type: application/json

{
  "id": 1,
  "name": "新的列表名称",
  "cover": "https://example.com/new-cover.jpg",
  "description": "新的描述"
}

### 4. 删除播放列表
POST {{baseUrl}}/api/playlist/delete
Authorization: {{token}}
Content-Type: application/json

{
  "id": 1
}

### 5. 获取播放列表详情
GET {{baseUrl}}/api/playlist/detail?id=1
Authorization: {{token}}

### 6. 添加音乐到播放列表
POST {{baseUrl}}/api/playlist/add-music
Authorization: {{token}}
Content-Type: application/json

{
  "playlist_id": 1,
  "music_id": 1
}

### 7. 从播放列表移除音乐
POST {{baseUrl}}/api/playlist/remove-music
Authorization: {{token}}
Content-Type: application/json

{
  "playlist_id": 1,
  "music_id": 1
}
