import{_ as L,G as b,u as M,c as B,o as D,H as U,a as l,b as s,d as u,t as o,I as w,y as n,J as A,s as E,E as N,i as e}from"./index-PzU3HC5i.js";const V={class:"mine-page"},j={class:"header"},q={class:"user-info"},F={class:"avatar"},G={key:0,class:"fas fa-user"},H=["src"],J={class:"info"},O={class:"name"},P={class:"stats"},R={class:"stat-item"},T={class:"value"},x={class:"stat-item"},z={class:"value"},K={class:"menu-list"},Q={class:"right"},W={class:"count"},X={class:"right"},Y={class:"count"},Z={class:"right"},ss={class:"count"},ts={class:"right"},is={class:"count"},os={name:"Mine"},as=Object.assign(os,{setup(ns){const k=N(),i=b(),I=M(),$=B(()=>{var a;return((a=I.playlist)==null?void 0:a.length)||0}),C=a=>`${(a/3600).toFixed(1)}小时`,S=()=>{A({title:"退出登录",message:"确定要退出登录吗？"}).then(()=>{i.userLogout(),E("已退出登录"),k.replace("/login")}).catch(()=>{})};return D(()=>{i.loadUserInfo(),i.loadStatistics()}),U(()=>{i.loadStatistics()}),(a,t)=>{var d,c,v,f,m,p,_,g,h,y;return e(),l("div",V,[s("div",j,[s("div",q,[s("div",F,[!o(i).isLoggedIn||!((d=o(i).userInfo)!=null&&d.avatar)?(e(),l("i",G)):u("",!0),o(i).isLoggedIn&&((c=o(i).userInfo)!=null&&c.avatar)?(e(),l("img",{key:1,src:o(w)((v=o(i).userInfo)==null?void 0:v.avatar),alt:"avatar"},null,8,H)):u("",!0)]),s("div",J,[s("div",O,n(((f=o(i).userInfo)==null?void 0:f.nickname)||"游客"),1),t[4]||(t[4]=s("div",{class:"desc"},"享受音乐，享受生活",-1))])])]),s("div",P,[s("div",R,[s("div",T,n(((m=o(i).statistics)==null?void 0:m.total_music)||0),1),t[5]||(t[5]=s("div",{class:"label"},"歌曲总数",-1))]),s("div",x,[s("div",z,n(C(((p=o(i).statistics)==null?void 0:p.total_play_duration)||0)),1),t[6]||(t[6]=s("div",{class:"label"},"总播放时长",-1))])]),s("div",K,[s("div",{class:"menu-item",onClick:t[0]||(t[0]=r=>a.$router.push("/mine/history"))},[t[8]||(t[8]=s("div",{class:"left"},[s("i",{class:"fas fa-history icon"}),s("span",null,"播放历史")],-1)),s("div",Q,[s("span",W,n(((_=o(i).statistics)==null?void 0:_.play_count)||0),1),t[7]||(t[7]=s("i",{class:"fas fa-chevron-right"},null,-1))])]),s("div",{class:"menu-item",onClick:t[1]||(t[1]=r=>a.$router.push("/mine/playlists"))},[t[10]||(t[10]=s("div",{class:"left"},[s("i",{class:"fas fa-list-ul icon"}),s("span",null,"我的歌单")],-1)),s("div",X,[s("span",Y,n(((g=o(i).statistics)==null?void 0:g.playlist_count)||0),1),t[9]||(t[9]=s("i",{class:"fas fa-chevron-right"},null,-1))])]),s("div",{class:"menu-item",onClick:t[2]||(t[2]=r=>a.$router.push("/mine/playlist"))},[t[12]||(t[12]=s("div",{class:"left"},[s("i",{class:"fas fa-play-circle icon"}),s("span",null,"当前播放")],-1)),s("div",Z,[s("span",ss,n(((h=o(i).statistics)==null?void 0:h.queue_count)||$.value),1),t[11]||(t[11]=s("i",{class:"fas fa-chevron-right"},null,-1))])]),s("div",{class:"menu-item",onClick:t[3]||(t[3]=r=>a.$router.push("/mine/star"))},[t[14]||(t[14]=s("div",{class:"left"},[s("i",{class:"fas fa-heart icon"}),s("span",null,"我的喜欢")],-1)),s("div",ts,[s("span",is,n(((y=o(i).statistics)==null?void 0:y.favorite_count)||0),1),t[13]||(t[13]=s("i",{class:"fas fa-chevron-right"},null,-1))])]),o(i).isLoggedIn?(e(),l("div",{key:0,class:"menu-item",onClick:S},[...t[15]||(t[15]=[s("div",{class:"left"},[s("i",{class:"fas fa-sign-out-alt icon"}),s("span",null,"退出登录")],-1),s("div",{class:"right"},[s("i",{class:"fas fa-chevron-right"})],-1)])])):u("",!0)])])}}}),es=L(as,[["__scopeId","data-v-12e0cf96"]]);export{es as default};
