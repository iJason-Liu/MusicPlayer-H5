import{_ as f,u as h,r as y,c as p,a as M,i as g,b as e,e as w,t as _,v as b,y as l,K as u,q as x,x as F,M as S,F as k,s as C}from"./index-PzU3HC5i.js";const I=["src"],A={class:"info"},B={class:"name"},q={class:"artist"},z={class:"actions"},N={__name:"MusicItem",props:{music:{type:Object,required:!0},playlist:{type:Array,default:()=>[]}},setup(t){const s=t,a=h(),o=y(!1),n=p(()=>a.isFavorite(s.music.id)),r=()=>{if(s.playlist&&s.playlist.length>0){a.setPlaylist(s.playlist);const i=s.playlist.findIndex(c=>c.id===s.music.id);a.playMusic(s.music,i)}else a.playMusic(s.music)},m=()=>{const i=a.toggleFavorite(s.music);C(i?"已添加到我的喜欢":"已取消喜欢")},d=()=>{o.value=!0};return(i,c)=>(g(),M(k,null,[e("div",{class:"music-item",onClick:r},[e("img",{src:_(b)(t.music.cover),class:"cover"},null,8,I),e("div",A,[e("div",B,l(t.music.name),1),e("div",q,l(t.music.artist)+l(t.music.album?" - "+t.music.album:""),1)]),e("div",z,[e("i",{class:F(["fas action-icon",(n.value,"fa-heart")]),style:x({color:n.value?"#ff4757":"rgba(255,255,255,0.6)"}),onClick:u(m,["stop"])},null,6),e("i",{class:"fas fa-ellipsis-v action-icon",onClick:u(d,["stop"])})])]),w(S,{show:o.value,"onUpdate:show":c[0]||(c[0]=v=>o.value=v),music:t.music},null,8,["show","music"])],64))}},U=f(N,[["__scopeId","data-v-97eb31d5"]]);export{U as M};
