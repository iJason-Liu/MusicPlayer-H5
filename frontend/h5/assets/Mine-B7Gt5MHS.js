import{B as C,_ as L,C as M,o as S,D as b,a as l,b as s,d,q as i,t as B,v as n,s as D,y as w,i as r}from"./index-BgLcfbKB.js";import{s as j,a as N}from"./function-call-DVx9XO6Q.js";C(j);const P={class:"mine-page"},U={class:"header"},V={class:"user-info"},q={class:"avatar"},A={key:0,class:"fas fa-user"},E=["src"],O={class:"info"},R={class:"name"},T={class:"stats"},x={class:"stat-item"},z={class:"value"},F={class:"stat-item"},G={class:"value"},H={class:"menu-list"},J={class:"right"},K={class:"count"},Q={class:"right"},W={class:"count"},X={class:"right"},Y={class:"count"},Z={name:"Mine"},ss=Object.assign(Z,{setup(ts){const y=B("imgPath"),k=w(),a=M(),I=o=>{const t=Math.floor(o/3600),e=Math.floor(o%3600/60);return t>0?`${t}小时${e}分钟`:`${e}分钟`},$=()=>{N({title:"退出登录",message:"确定要退出登录吗？"}).then(()=>{a.userLogout(),D("已退出登录"),k.replace("/login")}).catch(()=>{})};return S(()=>{a.loadUserInfo(),a.loadStatistics()}),b(()=>{a.loadStatistics()}),(o,t)=>{var e,c,u,v,f,m,_,g,p;return r(),l("div",P,[s("div",U,[s("div",V,[s("div",q,[!i(a).isLoggedIn||((e=i(a).userInfo)==null?void 0:e.avatar)==""?(r(),l("i",A)):d("",!0),i(a).isLoggedIn&&((c=i(a).userInfo)==null?void 0:c.avatar)!=""?(r(),l("img",{key:1,src:i(y)+((u=i(a).userInfo)==null?void 0:u.avatar),alt:"avatar"},null,8,E)):d("",!0)]),s("div",O,[s("div",R,n(((v=i(a).userInfo)==null?void 0:v.nickname)||"游客"),1),t[3]||(t[3]=s("div",{class:"desc"},"享受音乐，享受生活",-1))])])]),s("div",T,[s("div",x,[s("div",z,n(((f=i(a).statistics)==null?void 0:f.total_music)||0),1),t[4]||(t[4]=s("div",{class:"label"},"歌曲总数",-1))]),s("div",F,[s("div",G,n(I(((m=i(a).statistics)==null?void 0:m.total_play_duration)||0)),1),t[5]||(t[5]=s("div",{class:"label"},"总播放时长",-1))])]),s("div",H,[s("div",{class:"menu-item",onClick:t[0]||(t[0]=h=>o.$router.push("/mine/history"))},[t[7]||(t[7]=s("div",{class:"left"},[s("i",{class:"fas fa-history icon"}),s("span",null,"播放历史")],-1)),s("div",J,[s("span",K,n(((_=i(a).statistics)==null?void 0:_.play_count)||0),1),t[6]||(t[6]=s("i",{class:"fas fa-chevron-right"},null,-1))])]),s("div",{class:"menu-item",onClick:t[1]||(t[1]=h=>o.$router.push("/mine/playlist"))},[t[9]||(t[9]=s("div",{class:"left"},[s("i",{class:"fas fa-list-ul icon"}),s("span",null,"播放列表")],-1)),s("div",Q,[s("span",W,n(((g=i(a).statistics)==null?void 0:g.playlist_count)||0),1),t[8]||(t[8]=s("i",{class:"fas fa-chevron-right"},null,-1))])]),s("div",{class:"menu-item",onClick:t[2]||(t[2]=h=>o.$router.push("/mine/star"))},[t[11]||(t[11]=s("div",{class:"left"},[s("i",{class:"fas fa-heart icon"}),s("span",null,"我的喜欢")],-1)),s("div",X,[s("span",Y,n(((p=i(a).statistics)==null?void 0:p.favorite_count)||0),1),t[10]||(t[10]=s("i",{class:"fas fa-chevron-right"},null,-1))])]),i(a).isLoggedIn?(r(),l("div",{key:0,class:"menu-item",onClick:$},[...t[12]||(t[12]=[s("div",{class:"left"},[s("i",{class:"fas fa-sign-out-alt icon"}),s("span",null,"退出登录")],-1),s("div",{class:"right"},[s("i",{class:"fas fa-chevron-right"})],-1)])])):d("",!0)])])}}}),os=L(ss,[["__scopeId","data-v-f954d77a"]]);export{os as default};
