import{l as _,_ as y,u as b,m as $,i as o,c as d,p as k,a as s,t as l,q as C,s as D,v as M,g as u}from"./index-DLFWzj8n.js";import{s as S,a as V}from"./function-call-BZ37i5Mb.js";import{s as w}from"./function-call-Dqda3pcp.js";_(S);const B={class:"mine-page"},E={class:"stats"},L={class:"stat-item"},N={class:"value"},H={class:"stat-item"},I={class:"value"},q={class:"menu-list"},O={class:"right"},R={class:"count"},T={class:"right"},U={class:"count"},j={class:"right"},x={class:"count"},z={__name:"Mine",setup(A){const v=M(),n=b(),e=$(),c=o(()=>n.playHistory),f=o(()=>n.playlist),m=o(()=>n.favorites),r=o(()=>n.musicList),p=o(()=>r.value.reduce((a,t)=>a+(t.duration||0),0)),g=a=>{const t=Math.floor(a/3600),i=Math.floor(a%3600/60);return t>0?`${t}小时${i}分钟`:`${i}分钟`},h=()=>{V({title:"退出登录",message:"确定要退出登录吗？"}).then(()=>{e.logout(),w("已退出登录"),v.replace("/login")}).catch(()=>{})};return(a,t)=>(u(),d("div",B,[t[12]||(t[12]=k('<div class="header" data-v-2b298190><div class="user-info" data-v-2b298190><div class="avatar" data-v-2b298190><i class="fas fa-user" data-v-2b298190></i></div><div class="info" data-v-2b298190><div class="name" data-v-2b298190>音乐爱好者</div><div class="desc" data-v-2b298190>享受音乐，享受生活</div></div></div></div>',1)),s("div",E,[s("div",L,[s("div",N,l(r.value.length),1),t[3]||(t[3]=s("div",{class:"label"},"歌曲总数",-1))]),s("div",H,[s("div",I,l(g(p.value)),1),t[4]||(t[4]=s("div",{class:"label"},"总时长",-1))])]),s("div",q,[s("div",{class:"menu-item",onClick:t[0]||(t[0]=i=>a.$router.push("/mine/history"))},[t[6]||(t[6]=s("div",{class:"left"},[s("i",{class:"fas fa-history icon"}),s("span",null,"播放历史")],-1)),s("div",O,[s("span",R,l(c.value.length),1),t[5]||(t[5]=s("i",{class:"fas fa-chevron-right"},null,-1))])]),s("div",{class:"menu-item",onClick:t[1]||(t[1]=i=>a.$router.push("/mine/playlist"))},[t[8]||(t[8]=s("div",{class:"left"},[s("i",{class:"fas fa-list-ul icon"}),s("span",null,"播放列表")],-1)),s("div",T,[s("span",U,l(f.value.length),1),t[7]||(t[7]=s("i",{class:"fas fa-chevron-right"},null,-1))])]),s("div",{class:"menu-item",onClick:t[2]||(t[2]=i=>a.$router.push("/mine/star"))},[t[10]||(t[10]=s("div",{class:"left"},[s("i",{class:"fas fa-heart icon"}),s("span",null,"我的喜欢")],-1)),s("div",j,[s("span",x,l(m.value.length),1),t[9]||(t[9]=s("i",{class:"fas fa-chevron-right"},null,-1))])]),D(e).DEV_MODE?C("",!0):(u(),d("div",{key:0,class:"menu-item",onClick:h},[...t[11]||(t[11]=[s("div",{class:"left"},[s("i",{class:"fas fa-sign-out-alt icon"}),s("span",null,"退出登录")],-1),s("div",{class:"right"},[s("i",{class:"fas fa-chevron-right"})],-1)])]))])]))}},K=y(z,[["__scopeId","data-v-2b298190"]]);export{K as default};
